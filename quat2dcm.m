function dcm = quat2dcm(q)
% クォータニオンから方向余弦行列を計算
% dcm:方向余弦行列 size(dcm) = [3 3]
% q:クォータニオン[q0 q1 q2 q3]
q = quat_normalize(q);
q2 = q.^2;
dcm = [ q2(1) + q2(2) - q2(3) - q2(4),...
		2 * (q(2) * q(3) + q(1) * q(4)),...
		2 * (q(2) * q(4) - q(1) * q(3));...
		2 * (q(2) * q(3) - q(1) * q(4)),...
		q2(1) - q2(2) + q2(3) - q2(4),...
		2 * (q(3) * q(4) + q(1) * q(2));...
		2 * (q(2) * q(4) + q(1) * q(3)),...
		2 * (q(3) * q(4) - q(1) * q(2)),...
		q2(1) - q2(2) - q2(3) + q2(4)];
